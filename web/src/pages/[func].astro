---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import { getCollection } from 'astro:content';
import { getFunctionType } from '@src/utils/functions';

export async function getStaticPaths() {
    const functions = await getCollection('functions');
    return functions.map(func => ({
        params: { func: func.id },
        props: { func },
    }));
}

const { func } = Astro.props;
---
<StarlightPage frontmatter={{
    template: 'doc',
    title: func.id,
    tableOfContents: false,
}}>
    <div>
        {getFunctionType(func.data)}
    </div>
</StarlightPage>
